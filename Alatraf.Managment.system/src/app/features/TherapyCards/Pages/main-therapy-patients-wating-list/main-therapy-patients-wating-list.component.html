<div class="row gap-16">

  <div class="column gap-16 max-width-324">


    <div class="box gap-24" [class.hidden-queue]="!showFirstQueue" [class.max-hight-360]="showFirstQueue"
      (click)="!showFirstQueue && toggleQueues()">
      <div class="row space-between">
        <h2 class="title-md flex-center">قائمة الإنتظار</h2>
        <div class="primary-color-background WH-40 flex-center border-radius-20">
          <h2 class="title-md white-color margin-auto">
            {{ paidTherapyCards().length }}
          </h2>
        </div>
      </div>
      @if (showFirstQueue) {
      <div class="search-box">
        <img src="assets/icons/search-icon.svg" class="search-icon" alt="search" />
        <input type="text" placeholder="بحث: اسم المريض أو الرقم" #searchBox (input)="onSearch(searchBox.value)" />
      </div>
      <app-general-waiting-patient-queue class="max-hight-712 column gap-16" [patients]="patientsVM()"
        [loading]="loading()" (select)="select($event)"></app-general-waiting-patient-queue>

      }
    </div>



    <div class="box gap-24" [class.hidden-queue]="!showSecondQueue" [class.max-hight-360]="showSecondQueue"
      (click)="!showSecondQueue && toggleQueues()">
      <div class="row space-between">
        <h2 class="title-md flex-center">الأطباء </h2>
        <div class="primary-color-background WH-40 flex-center border-radius-20">
          <h2 class="title-md white-color margin-auto">
            {{ therapistDoctorsVM().length }}
          </h2>
        </div>
      </div>

      @if (showSecondQueue) {
      <div class="search-box">
        <img src="assets/icons/search-icon.svg" class="search-icon" alt="search" />
        <input type="text" placeholder="بحث: اسم الطبيب أو الرقم" (input)="onDoctorSearch($any($event.target).value)" />
      </div>

      <div class="filters-container">
        <button class="filter-btn active">الكل</button>
        <button class="filter-btn">علاج طبيعي</button>
        <button class="filter-btn">أعصاب</button>
        <button class="filter-btn">عظام</button>
      </div>

      <app-doctor-card class="max-hight-712 column gap-16" [doctors]="therapistDoctorsVM()"
        [loading]="loadingTherapists()" (select)="OnSelectDoctor($event)"></app-doctor-card>
      }
    </div>
  </div>



  <div class="box max-hight-800 gap-16">
    @if(selectedCardId() || selectedDoctorId()) {
    <router-outlet></router-outlet>}
    @else {
    <app-workspace-welcome subtitle="مرحباً بك" imageSrc="assets/images/therapy.svg"></app-workspace-welcome>
    }
  </div>
</div>