<div class="padding-32 row gap-16 padding-24">
  <div class="box max-width-324 culumn gap-24 max-hight-800">
    <!-- Header -->
    <div class="row space-between">
      <h2 class="title-md flex-center">قائمة الإنتظار</h2>

      <div class="primary-color-background WH-40 flex-center border-radius-20">
        <h2 class="title-md white-color margin-auto">
          {{ tickets().length }}
        </h2>
      </div>
    </div>

    <!-- Search box -->
    <div class="search-box">
      <img src="assets/icons/search-icon.svg" class="search-icon" alt="search" />
      <input type="text" placeholder="بحث: اسم المريض أو الرقم" #searchBox (input)="onSearch(searchBox.value)" />
    </div>

    <!-- Service Filters -->
    <div class="filters-container">
      <!-- ALL -->
      <button class="filter-btn" [class.active]="activeService() === null" (click)="filterByService(null)">
        الكل
      </button>

      <!-- أطراف صناعية -->
      <button class="filter-btn" [class.active]="activeService() === ServiceType.Industrial"
        (click)="filterByService(ServiceType.Industrial)">
        أطراف صناعية
      </button>

      <!-- مبيعات -->
      <button class="filter-btn" [class.active]="activeService() === ServiceType.Sales"
        (click)="filterByService(ServiceType.Sales)">
        مبيعات
      </button>

      <!-- إصلاحات -->
      <button class="filter-btn" [class.active]="activeService() === ServiceType.Repairs"
        (click)="filterByService(ServiceType.Repairs)">
        إصلاحات
      </button>
    </div>

    <!-- Waiting list -->
    <app-waiting-patient-card class="max-hight-712 column gap-16" [tickets]="tickets()" (select)="select($event)"
      [loading]="loading()"></app-waiting-patient-card>

    <!-- Pagination Component -->
    <app-pagination [page]="pageRequest().page" [pageSize]="pageRequest().pageSize" [totalCount]="totalCount()"
      (pageChange)="ticketFacade.setPage($event)" (pageSizeChange)="ticketFacade.setPageSize($event)"></app-pagination>
  </div>

  <!-- Right section -->
  @if (selectedTicket()) {
  <div class="box max-hight-800 gap-16">
    <router-outlet></router-outlet>
  </div>
  } @else {
  <div class="box max-hight-800 gap-16 flex-center">
    <img src="assets/images/bro.svg" alt="اضافة تشخيص" width="496.75" height="512" class="padding-32" />
    <p class="title-md primary-color-50">مرحباً بك</p>
  </div>
  }
</div>