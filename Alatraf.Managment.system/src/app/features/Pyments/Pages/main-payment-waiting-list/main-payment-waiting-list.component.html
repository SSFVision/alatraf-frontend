<div class="row gap-16">

  <div class="box max-width-324 gap-24  ">
    <div class="row space-between">
      <h2 class="title-md flex-center">قائمة الإنتظار</h2>

      <div class="primary-color-background WH-40 flex-center border-radius-20">
        <h2 class="title-md white-color margin-auto">
          {{ patientsVM().length }}
        </h2>
      </div>
    </div>

    <div class="search-box">
      <img src="assets/icons/search-icon.svg" class="search-icon" alt="search" />
      <input type="text" placeholder="بحث: اسم المريض أو الرقم" #searchBox (input)="onSearch(searchBox.value)" />
    </div>

    <div class="filters-container">
      <button class="filter-btn" (click)="selectFilter(null)" [class.active]="currentPaymentReference() === null">
        الكل
      </button>

      <button class="filter-btn" (click)="selectFilter(PaymentReference.TherapyCardNew)" [class.active]="
          currentPaymentReference() === PaymentReference.TherapyCardNew
        ">
        علاج طبيعي
      </button>

      <button class="filter-btn" (click)="selectFilter(PaymentReference.TherapyCardRenew)" [class.active]="
          currentPaymentReference() === PaymentReference.TherapyCardRenew
        ">
        تجديد كرت علاج
      </button>

      <button class="filter-btn" (click)="selectFilter(PaymentReference.TherapyCardDamagedReplacement)" [class.active]="
          currentPaymentReference() ===
          PaymentReference.TherapyCardDamagedReplacement
        ">
        بدل فاقد
      </button>

      <button class="filter-btn" (click)="selectFilter(PaymentReference.Repair)"
        [class.active]="currentPaymentReference() === PaymentReference.Repair">
        اصلاحات فنية
      </button>

      <button class="filter-btn" (click)="selectFilter(PaymentReference.Sales)"
        [class.active]="currentPaymentReference() === PaymentReference.Sales">
        المبيعات
      </button>



      <button type="button" class="filter-btn" (click)="setPaymentStatus(false)"
        [class.active]="isCompleted() === false">
        جديد
      </button>

      <button type="button" class="filter-btn" (click)="setPaymentStatus(true)" [class.active]="isCompleted() === true">
        مكتملة
      </button>
    </div>

    <!-- Payment Status -->
    <!-- <div class="row gap-16 align-center padding-8">
      <label class="radio-container">
        <input type="radio" name="paymentStatus" [checked]="isCompleted() === false"
          (change)="setPaymentStatus(false)" />
        <span class="radio-checkmark"></span>
        <span class="label-md">جديد</span>
      </label>

      <label class="radio-container">
        <input type="radio" name="paymentStatus" [checked]="isCompleted() === true" (change)="setPaymentStatus(true)" />
        <span class="radio-checkmark"></span>
        <span class="label-md">مكتملة</span>
      </label>
    </div> -->


    <!-- Queue -->
    <app-general-waiting-patient-queue class="max-hight-712 column gap-16" [patients]="patientsVM()"
      [loading]="loading()" (select)="select($event)">
    </app-general-waiting-patient-queue>
  </div>

  <!-- ===================================================== -->
  <!-- Details / Empty State -->
  <!-- ===================================================== -->

  <div class="box   gap-16">
    @if (selectedPaymentId()) {
    <router-outlet></router-outlet>}
    @else {
    <app-workspace-welcome subtitle="مرحباً بك" imageSrc="assets/images/bro-1.svg"></app-workspace-welcome>
    }
  </div>
</div>